<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='common.css') }}">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='FoglalasV3.css') }}">
    <title>Foglalás</title>
</head>
<body>
    <header>
        <div class="headerDesktop">
        <div class="exit">
            <button onclick = "exit()" class="exitButton"></button>
        </div>
        <div class="headerButtonBox">
            <div class="headerButtonwrapper">
                <button onclick="openLoginModal()" class="headerButton">Bejelentkezés</button>
            </div>
            <div class="headerButtonwrapper">
                <button onclick="toPrices()" class="headerButton">Árlisták</button>
            </div>
            <div class="headerButtonwrapper">
                <button onclick="toGallery()" class="headerButton">Galéria</button>
            </div>
            <div class="headerButtonwrapper">
                <button onclick="toContact()" class="headerButton">Kapcsolat</button>
            </div>
            <div class="headerButtonwrapper">
                <button onclick="toReservation()" class="headerButtonSelected">Online időpontFoglalás</button>
            </div>
        </div>
        </div>
        <div class="headerMobile">
            <div class="exit">
                <button onclick = "exit()" class="exitButton"></button>
            </div>
            <button onclick="openModal()" class="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>
    <div class="FoglalasiFelulet">
        <h1 class="focim">Online Időpontfoglalás</h1>  
        <div class='FoglalasBox'>
        <h2 class="alcim">1. Válasszon autómosót</h2>
            <div class="locationBox" id = "box">
                <form id="locationForm" action="/reservation_test/select_location" method="POST">
                    {% for location in locations %}
                    <button 
                        class="keret {% if location.id == selected_location_id %}selected{% endif %}" 
                        name="location_id" 
                        value="{{ location.id }}" 
                        type="submit" 
                        id="location_btn-{{ location.id }}">
                        <img class="helyszinkep" src="/static/images/{{ location.image_name }}" />
                        <img class="helyszinikon" src="/static/images/map.svg">
                        <div class="IkonKeret"></div>
                        <div class="MosokCim">{{ location.location }}</div>
                    </button>
                    {% endfor %}
                </form>
            </div>
        <form id="reservationForm" action="/Foglalás/create_reservation" method="POST">
        <h2 class="alcim">2. Válasszon csomagot</h2> 
        <div class="serviceBox" id="serviceBox">
            {% for service in services %}
            <input 
                type="radio" 
                class="radio"
                name="service" 
                id="service-{{ service.id }}" 
                value="{{ service.id }}" 
                onchange="handleRadioChange(this,service.extras)" 
            />
            <label class="serviceKeret" for="service-{{ service.id }}">
                <div class = "csomag_header">
                    <div class="csomag_nev">{{ service.service_name }}</div>
                </div>
                <div class="csomag_content">
                    <div class='meret_box'> 
                        <div class="csomag_meret">M</div>
                        <div class="csomag_ar">{{ service.price_small }}</div>
                        <div class="meret_leiras">(Sedan, Hatchback)</div>
                    </div>
                    <div class='meret_box'>
                        <div class="csomag_meret">L</div>
                        <div class="csomag_ar">{{ service.price_medium }}</div>
                        <div class="meret_leiras">(Combi, SUV)</div>
                    </div>
                    <div class='meret_box'>
                        <div class="csomag_meret">XXL</div>
                        <div class="csomag_ar">{{ service.price_large }}</div>
                        <div class="meret_leiras">(Microbus, Pickup)</div>
                    </div>
                </div>
            </label>
        {% endfor %}       
        </div>
        <div class="box2">
            <div class="keret2">
                <h2 class="alcim">3. Válasszon extrákat</h2> 
                <div class="extraBox">
                    {% for extra in extras %}
                    <label class="custom-checkbox {% if not extra.user_select %}no_select{% endif %}">
                        <input type="checkbox" name="extras" value="{{ extra.id }}">
                        <span></span>
                        {{ extra.service_name }}
                    </label>
                    {% endfor %}
            </div>
        </div>
            <div class="keret2">
                <div class="keret3">
                <div class='datumKeret'>
                <h2 class="alcim">4. Válasszon időpontot</h2> 
                    <div>
                        <input type="date" id="dateInput" class="input-mezo" name="reservation_date" placeholder="Dátumot" required>
                    </div>
                    <div class="info">
                    Autóját a kiválasztott időpontig készítjük el!<br><br>
                    Kérjük hozza autóját az átadási időpont előtt két órával, amennyiben ez nem teljesíthető, jelezze lent a megjegyzésben!
                    </div>
                </div>
                <div class="GombBox" id = "GombBox">               
                </div>       
            </div>    
            </div>
            </div>
        <div>
    </div>
    </div>
    </div>
    </div>
    <div class='FoglalasBox'>
        <div class="inputContaner">
            <div class="inputBox">
                <h2 class="alcim">5. Személyes adatok</h2> 
                <div class="inputBoxInner">
                <div class='input-keret'> 
                    <label class = "input-label"  for="lastname">Vezetéknév*</label>
                    <input 
                        type="text" 
                        id="forname" 
                        name="new_customer_lastname" 
                        value="{{ customer.lastname }}" 
                        placeholder="" 
                        class="input-mezo"
                        required>
                </div>
                <div class='input-keret'> 
                    <label class = "input-label" for="lastname">Keresztnév*</label>
                    <input 
                        type="text" 
                        id="forname" 
                        name="new_customer_forname" 
                        value="{{ customer.forname }}" 
                        placeholder="" 
                        class="input-mezo"
                        required>
                </div>
                <div class='input-keret'> 
                    <label class = "input-label" for="phone_number">Telefonszám*</label>
                    <input 
                        type="text" 
                        id="phone_number" 
                        name="new_customer_phone_number" 
                        value="{{ customer.phone_number }}" 
                        placeholder="Enter phone number" 
                        class="input-mezo"
                        required>
                </div>
                <div class='input-keret'> 
                    <label class = "input-label"  for="payment_method">Fizetési mód*</label>
                    <select id="payment_method" name="payment_method" class="input-mezo">
                        <option value="cash">Kézpénz</option>
                        <option value="card">Bankkártya</option>
                    </select>
                </div>
                <div class='input-keret'> 
                    <label class="custom-checkbox">
                        <input type="checkbox"  id="billing-required" name='billing_required'6>
                        <span></span>
                        Kérek számlát
                    </label>
                </div>
            </div>
            </div>
            <div class="inputBox">
                <h2 class="alcim">6. Autó adatok</h2> 
                <div class="inputBoxInner">
                    <div class='input-keret'> 
                        <label class = "input-label"  for="Marka">Rendszám*</label>
                        <input 
                            type="text" 
                            id="license_plate" 
                            name="new_car_license_plate" 
                            value="{{ customer.forname }}" 
                            placeholder="" 
                            class="input-mezo"
                            required>
                    </div>
                    <div class='input-keret'> 
                        <label class = "input-label"  for="Marka">Márka*</label>
                        <input 
                            type="text" 
                            id="marka" 
                            name="new_car_brand" 
                            value="{{ customer.forname }}" 
                            placeholder="" 
                            class="input-mezo"
                            required>
                    </div>
                    <div class='input-keret'> 
                        <label class = "input-label"  for="Marka">Típus*</label>
                        <input 
                            type="text" 
                            id="marka" 
                            name="new_car_model" 
                            value="{{ customer.forname }}" 
                            placeholder="" 
                            class="input-mezo"
                            required>
                    </div>
                    <div class='input-keret'> 
                        <label class = "input-label"  for="size">Autó Méret*</label>
                        <select id="size" name="new_car_type" class="input-mezo">
                            <option value="small_car">M</option>
                            <option value="medium_car">L</option>
                            <option value="large_car">XXL</option>
                        </select>
                </div>
                <div class='input-keret'> 
                    <label class = "input-label"  for="Marka">Parkoló</label>
                    <input 
                        type="text" 
                        id="marka" 
                        name="parking_spot" 
                        value="{{ customer.forname }}" 
                        placeholder="" 
                        class="input-mezo">
                </div>
            </div>
            </div>
        </div>
    </div>
    <div class='FoglalasBox'>
        <div class="inputContaner">
            <div class="inputBox">
            <h2 class="alcim">7. Megjegyzés</h2> 
            <input type="textarea" class="megjegyzes" name="comment">
            </div>
            <div class="inputBox hidden" id="billing_data">
            <h2 class="alcim">8. Számlázási adatok</h2> 
            <div class="inputBoxInner">
                <div class='input-keret'> 
                    <label class = "input-label"  for="billing-name">Név:*</label>
                    <input 
                        type="text" 
                        id="billing_name" 
                        name="billing_name" 
                        value="{{ billing.name }}" 
                        placeholder="" 
                        class="input-mezo"
                        >
                </div>
                <div class='input-keret'> 
                    <label class = "input-label" for="email">E-mail:*</label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        value="{{ billing.email }}" 
                        placeholder="" 
                        class="input-mezo"
                        >
                </div>
            <div class='input-keret'> 
                <label class = "input-label"  for="address">Cím:*</label>
                <input 
                    type="text" 
                    id="address" 
                    name="address" 
                    value="{{ billing.address }}" 
                    placeholder="" 
                    class="input-mezo"
                    >
            </div>
            <div class='input-keret'> 
                <label class = "input-label"  for="company_name">Cégnév</label>
                <input 
                    type="text" 
                    id="company_name" 
                    name="company_name" 
                    value="{{ billing.company_name }}" 
                    placeholder="" 
                    class="input-mezo">
            </div>
            <div class='input-keret'> 
                <label class = "input-label"  for="tax_ID">Adószám</label>
                <input 
                    type="text" 
                    id="tax_ID" 
                    name="tax_ID" 
                    value="{{ billing.tax_ID }}" 
                    placeholder="" 
                    class="input-mezo">
            </div>
        </div>
        </div>
    </div>
</form>
</div>
    <div class="Wrapper">
        <div class="Foglalas">
            <button onclick="create_reservation()" class="FoglalasButton">Foglalás</button>
        </div>
    </div>    
</div>
<footer> 
    <div class="footerBox">
        <div class="footerTextBox">© 2024 Eliteshine Minden jog fenntartva</div>
        <div class="footerTextBox">Adatvédelmi nyilatkozat<br>ASZF</div>
        <div class="footerTextBox">eliteshine@shine.com<br>+36 20 69 69 669</div>
        <div class = "socialBox"> insta</div>
    </div>
</footer>
</body>
<script src="{{ url_for('static', filename='cust_script.js') }}"></script>
<script src="{{ url_for('static', filename='common.js') }}"></script>

<!--Modals -->
<div class = "modal" id="modal">
    <div id="modal-content">
        <span id="close" onclick="closeModal()">&times;</span>
        <div class="modalButtonBox">
            <button onclick="openLoginModal()" class="modalButton">Bejelentkezés</button>
        </div>
        <div class="modalButtonBox">
            <button onclick="toPrices()" class="modalButton">Árlisták</button>
        </div>
        <div class="modalButtonBox">
            <button onclick="toReservation()" class="modalButton">Online Időpontfoglalás</button>
        </div>
        <div class="modalButtonBox">
            <button onclick="toGallery()" class="modalButton">Galéria</button>
        </div>
        <div class="modalButtonBox">
            <button onclick="toContact()" class="modalButton">Kapcsolat</button>
        </div>
    </div>
</div>
<div class = "modal" id="login-modal">
    <div id="modal-content" class="modal-contnt">
        <div class="modal-outerContainer">
        <div class="alcim">Bejelentkezés</div>
        <span id="close" onclick="closeLoginModal()">&times;</span>
        <form id='login-form'>
        <div class='modal-input'> 
            <label class = "modal-label"  for="username">Felhasználónév:</label>
            <input 
                type="text" 
                id="username" 
                name="user_name" 
                placeholder="" 
                class="modal-mezo"
                required>
        </div>
        <div class='modal-input'> 
            <label class = "modal-label"  for="password">Jelszó:</label>
            <input 
                type="password" 
                id="password" 
                name="password" 
                placeholder="" 
                class="modal-mezo"
                required>
        </div>
        <div>
        <button type="submit" class="LoginOrRegisterButton">Belépés</button>
        </form>
        <div class="message" id="login-message"></div>
        </div>
    </div>
</div>
</div>
<div class = "modal" id="register-modal">
    <div id="modal-content" class="modal-contnt">
        <div class="modal-outerContainer">
        <div class="alcim">Regisztráció</div>
        <span id="close" onclick="closeRegisterModal()">&times;</span>
        <form id='register-form'>
        <div class='modal-input'> 
            <label class = "modal-label"  for="username">Felhasználónév:</label>
            <input 
                type="text" 
                id="username" 
                name="user_name" 
                placeholder="" 
                class="modal-mezo"
                required>
        </div>
        <div class='modal-input'> 
            <label class = "modal-label"  for="password">Jelszó:</label>
            <input 
                type="password" 
                id="password" 
                name="password" 
                placeholder=""
                class="modal-mezo"
                required>
        </div>
        <div>
        <button type="submit" class="LoginOrRegisterButton">Regisztráció</button>
        </form>
        <div class="message" id="login-message"></div>
        </div>
    </div>
</div>
</div>
</div>
<div class = "LoginOrRegistermodal" id="LoginOrRegister">
    <div class = "LoginOrRegistercontent">
        <div class="LoginOrRegisterText">Az online időpontfoglaláshoz jelentkezz be, vagy regisztrálj.</div>
        <div class="LoginOrRegisterWrapper">
            <div class="LoginOrRegisterWrapper2">
                <button onclick="openLoginModal()"class="regMenubutton">Bejelentkezés</button>
                <div class="Buziszmbólumgeci">&gt;</div>
            </div>
            <div class="LoginOrRegisterWrapper2">
                <button onclick="openRegisterModal()" class="regMenubutton">Regisztráció</button>
                <div class="Buziszmbólumgeci">&gt;</div>
            </div>
        </div>
    </div>
</div>

<div class = "ConfirmModal" id="ConfirmModal">
    <span id="close" onclick="CloseReservationModal()">&times;</span>
    <div class="ConfirmModalContent">
      <div class="ConfirmTitle">Sikeres időpontfoglalás</div>
      <div class="ConfimCheck">
        <img class="Check" src="/static/images/Check.svg">
      </div>
      <div class="ConfirmNote">Kérjük hozza autóját a választott időpont előtt 2 órával.</div>
      <div class ="priceTitle">Végösszeg</div>
      <div id = "finalprcie" class = "finalprcie">6666</div>
    </div>
</div>